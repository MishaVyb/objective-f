@import '../../css/variables.module';

.popover-content {
  z-index: 9999;
  background-color: var(--popup-bg-color);
  width: 300px;
  max-height: 400px;
  padding: 18px;
  border-radius: 8px;
  box-sizing: border-box;
  overflow-y: auto;
  box-shadow: 0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798),
    0px 0px 0.931014px rgba(0, 0, 0, 0.1702);
}

.popover-trigger__button {
  --radius: 0.45rem;

  padding: 0;
  margin: 0;
  // width: 1.35rem;
  height: 2.35rem;
  border: 1px solid var(--color-gray-30);
  border-radius: var(--radius);
  filter: var(--theme-filter);
  background-color: var(--swatch-color);
  background-position: left center;
  position: relative;
  font-family: inherit;
  box-sizing: border-box;

  // Copypast from Excalidraw.
  // These styles are not used actually.
  &:hover {
    &::after {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      box-shadow: 0 0 0 1px var(--color-gray-30);
      border-radius: calc(var(--radius) + 1px);
      filter: var(--theme-filter);
    }
  }

  &.active {
    .color-picker__button-outline {
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      box-shadow: 0 0 0 1px var(--color-primary-darkest);
      z-index: 1; // due hover state so this has preference
      border-radius: calc(var(--radius) + 1px);
      filter: var(--theme-filter);
    }
  }

  &:focus-visible {
    outline: none;

    &::after {
      content: '';
      position: absolute;
      top: -4px;
      right: -4px;
      bottom: -4px;
      left: -4px;
      border: 3px solid var(--focus-highlight-color);
      border-radius: calc(var(--radius) + 1px);
    }

    &.active {
      .color-picker__button-outline {
        display: none;
      }
    }
  }

  &--large {
    --radius: 0.5rem;
    width: 1.875rem;
    height: 1.875rem;
  }

  &.is-transparent {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==');
  }

  &--no-focus-visible {
    border: 0;
    &::after {
      display: none;
    }
    &:focus-visible {
      outline: none !important;
    }
  }

  &.active-color {
    border-radius: calc(var(--radius) + 1px);
    width: 1.625rem;
    height: 1.625rem;
  }
}
